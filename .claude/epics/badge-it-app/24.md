---
name: Fix Theme Toggle Icons
status: open
created: 2026-01-15T22:49:51Z
updated: 2026-01-15T22:49:51Z
github: null
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Fix Theme Toggle Icons

## Description
The Ionicons sun/moon icons in the theme toggle are not displaying. Fix the implementation to ensure icons render correctly in both SSR and client-side contexts.

## Acceptance Criteria
- [ ] Sun icon displays in dark mode (to switch to light)
- [ ] Moon icon displays in light mode (to switch to dark)
- [ ] Icons render correctly after page load
- [ ] No hydration mismatches
- [ ] Proper sizing and styling
- [ ] Works in both themes

## Technical Details

### Current Issue
Ionicons web components may not render during SSR or may have hydration issues.

### Solution Options

#### Option 1: Use ClientOnly wrapper
```vue
<template>
  <button class="theme-toggle" @click="toggleTheme">
    <ClientOnly>
      <ion-icon v-if="isDark" name="sunny-outline" />
      <ion-icon v-else name="moon-outline" />
      <template #fallback>
        <span class="icon-placeholder" />
      </template>
    </ClientOnly>
  </button>
</template>
```

#### Option 2: Use SVG icons directly
```vue
<template>
  <button class="theme-toggle" @click="toggleTheme">
    <!-- Sun icon for dark mode -->
    <svg v-if="isDark" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 512 512">
      <path d="M256 118a22 22 0 01-22-22V48a22 22 0 0144 0v48a22 22 0 01-22 22z..." fill="currentColor"/>
    </svg>
    <!-- Moon icon for light mode -->
    <svg v-else xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 512 512">
      <path d="M264 480A232 232 0 0132 248c0-94 54-178.28 137.61-214.67..." fill="currentColor"/>
    </svg>
  </button>
</template>
```

#### Option 3: Use Iconify (universal icon library)
```bash
npm install @iconify/vue
```

```vue
<script setup>
import { Icon } from '@iconify/vue'
</script>

<template>
  <button class="theme-toggle" @click="toggleTheme">
    <Icon v-if="isDark" icon="ion:sunny-outline" />
    <Icon v-else icon="ion:moon-outline" />
  </button>
</template>
```

### Styling Fix
```css
.theme-toggle ion-icon,
.theme-toggle svg {
  font-size: 1.25rem;
  width: 1.25rem;
  height: 1.25rem;
}

/* Ensure icon visibility */
.theme-toggle ion-icon {
  display: block;
}
```

### Plugin Check
Ensure ionicons plugin is properly loading:
```typescript
// plugins/ionicons.client.ts
import { defineCustomElements } from 'ionicons/loader'

export default defineNuxtPlugin(() => {
  if (typeof window !== 'undefined') {
    defineCustomElements(window)
  }
})
```

## Effort Estimate
- Size: XS
- Hours: 0.5-1
